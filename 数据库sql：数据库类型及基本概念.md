# 1背景
在开发工作流的过程中，工作流使用了外部数据库postgre数据库，在之后的工作流开发过程中被这个数据虐的不行…………尤其是工作流框架经常报“idle in transaction timeout”，简而言之就是，工作流申请了数据库事务，但是事务的闲置时间过长，被serve端主动关闭了事务，因此，事务中的已经执行的数据库操作都会被回滚掉…………一开始并没有分清楚数据库的连接超时和事务超时，我就一直用类似于“select 1”的语句来进行连接保活…………果真是没什么用的，因为连接和事务虽然有联系，但并不是一个概念…………

因此，下决心深入学习一下数据库的知识。该篇的内容包括：数据库的分类和各类型的特点，基本都是概念性的东西，不涉及代码。

# 2数据库管理系统
数据库管理系统（databse management system）是一种操纵和管理数据库的大型软件，用于建立、使用和维护数据库，简称 DBMS。它对数据库进行统一的管理和控制，以保证数据库的安全性和完整性。数据库管理系统是一个能够提供数据录入、修改、查询的数据操作软件，具有数据定义、数据操作、数据存储与管理、数据维护、通信等功能，且能够允许多用户使用。

所以，平时我们使用的MySQL等等数据库，并不仅仅是一个库，其实是一个完整的数据库管理系统，但是，平时就直接简称为“数据库”。

# 3数据库的分类
数据库的分类标准有很多种，目前本人见到的常用的分类有两种：
1. （物理结构角度）数据库数据的持久化位置分类
2. （逻辑结构角度）数据模型

## 3.1按数据存储位置分类
分为文件性数据库和非文件型数据库，纯粹的文件型数据库就是较老版本的access了，数据的更新都是以硬盘中的文件中进行，纯粹的非文件型数据库就是内存模式的h2数据库，数据完全存储在内存中。

但是，目前的流行的大型数据库一般都是混合型的，常用的热数据都是按需加载在内存中，冷数据一般都是在硬盘中的。
## 3.2按照数据模型分类
比较流行的数据模型有三种，即**按图论理论建立的层次结构模型和网状结构模型**以及**按关系理论建立的关系结构模型**,即为层次、网状和关系数据库系统。

### 3.2.1层次结构模型
层次结构模型实质上是一种有根结点的定向有序树(在数学中"树"被定义为一个无回的连通图)。比如，一个高等学校的组织结构图，这个组织结构图像一棵树，校部就是树根(称为根结点)，各系、专业、教师、学生等为枝点(称为结点)，树根与枝点之间的联系称为边，树根与边之比为1:N，即树根只有一个，树枝有N个。

按照层次模型建立的数据库系统称为层次模型数据库系统。IMS(Information Manage-mentSystem)是其典型代表。

### 3.2.2网状结构模型
按照网状数据结构建立的数据库系统称为网状数据库系统，其典型代表是DBTG(Data Base Task Group)。用数学方法可将网状数据结构转化为层次数据结构。

### 3.2.3关系结构模型
关系式数据结构把一些复杂的数据结构归结为简单的二元关系(即二维表格形式)。例如某单位的职工关系就是一个二元关系。由关系数据结构组成的数据库系统被称为关系数据库系统。

在关系数据库中，主要分为两类表，实体对象表和关系表。实体对象表，就是记录了实体对象的各种信息。关系表，就是记录了实体对象之间的关系。

关系型数据库中，对数据的操作几乎全部建立在一个或多个实体表和关系表格上，通过对这些关系表格的分类、合并、连接或选取等运算来实现数据的管理。其中关系无非就是三种关系：
* 1对1的关系，比如，正常的已婚男女性，法律意义上的配偶关系是一对一的
* 1对N的关系，比如，一个学生，他要上的课程N门课
* N对N的关系，比如，一个学生可以有很多老师，一个老师可以有很多学生

关系型数据库，建立对E-R模型（Entity-Relationship model）的基础上，要设计出一个关系型数据库，本质上就是设计出各个实体机及其属性，以及实体和实体之间的关系。

## 3.3其他
互联网浪潮之前，最主流的数据库就是关系型数据库，实现基本都是一些的人事管理之类的应用，但是，随着互联网的急速发展（以用户为主体，上传下载，发布帖子，博客等动态应用，用户产生的内容之间并没有什么特别的关系），关系型数据库并不能满足公司的需求了……出现了很多非常具有针对性的非关系型数据库，比如：key-value型存储系统的的代表redis、Document-oriented（面向文档，可以存储json等多种数据类型，传统关系型数据库的类型较为有限，比如，显然不能方便的直接存储对象实例）的MongoDB。

