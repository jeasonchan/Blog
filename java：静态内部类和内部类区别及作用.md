# 1背景
看SM之前给我重构的kafka消费者的代码，kafka消费者的初始化、订阅主题、消息拉取聚合到一个静态内部类当中，外部类的中的单例和消息map再以实例的方式注入到静态内部类当中，代码结构**大致**如下：
```java
class KafkaService {
//单例
public static SingltonHoler{
	private	static	KafkaService singlton=new KafkaService ();
}
private KafkaService (){
	//给静态内部类传值，存储拉取的kafka消息  
	new Thread(new InnerThread(this.kafkaMessagePool)).start();
};//单例构造函数

@Geter
private Map kafkaMessagePool=null;//此处最好使用java自带的并发map，因为涉及多处的写操作

private static InnerThread implement Runnable {
	//消费者实例的初始化、订阅等
}

}
```
其中使用了静态内部类，但是，我平时一般都只用过内部类，不禁好奇，静态内部类和内部类的有啥区别。
# 2 静态内部类和内部类的异同点
也就是要回答：为什么要设计Java内部类？然后内部类还要再分为静态和非静态两种？
# 2.1 为什么要内部类
在一个类内部，需要操作某种属性，而这个属性需要涉及的面又很广，我们可以考虑，将这些属性设计为内部类。比如，设计类 B 的目的只是为了给类 A 使用，那么，我们就可将其设定为内部类，没有必要将类 B 设置成单独的 Java 文件，防止与其他类产生依赖关系。

说的直白一点，就是使类的内部的更加聚合，同时，避免了外部对该“聚合”部分的访问。
# 2.2 静态内部类与内部类区别
首先，来看一下静态内部类的特点：
如果内部类与外部类关系不紧密，耦合程度不高，不需要访问外部类的所有属性或方法，那么设计成静态内部类。而且，由于静态内部类与外部类并不会保存相互之间的引用，因此在一定程度上，还会节省那么一点内存资源。因此，静态内部类，和外部类没有什么“强依赖”上的关系，也就是说，没有外部类提供一些属性，内部静态类也可以创建并初始化。

既然上面已经说了什么时候应该用静态内部类，那么如果需求不符合静态内部类所提供的一切好处，那就应该考虑使用内部类了。最大的特点就是：你在内部类中需要访问有关外部类的所有属性及方法。

总结一下，静态内部类和内部类，就像静态方法和实例方法一样，对类的属性/方法访问范围不同，静态内部类和静态方法只能访问静态属性……

典型的使用静态内部类的代码就是HashMap的源码，HashMap源码就有个静态内部类的经典使用，HashMap把put进去的一个key value包装成一个Node，该Node就是静态内部类。
