# 1 背景
（回头发现，有很多错误的认知……）
研二的时候还用过C++写windows应用，快两年没用，再加上Java太好用，差不多快忘了C++最基本的指针和引用了，在此回归一下，并且和java一切皆对象的的引用/指针进行对比。

看了段时间的cpp primer发现很多不对的地方
# 2 Cpp指针和引用实例
```cpp
int a=1;
int b=2;

//    C
void swap(int *a, int *b)
{
    int tmp;
    tmp = *a;
    *a = *b; //对内存中存储的值进行更新
    *b = tmp;
}
swap(&a, &b);
 
 
//    C++
void swap(int &a, int &b)
{
    int tmp;
    tmp = a;
    a = b;//对内存中存储的值进行更新
    b = tmp;
}
swap(a, b);
```
引用是cpp中发展出来的用法，最直观的感受就是：手写了很多解引用的符号……想在函数中对类实例进行更改操作时，就十分有用了，使用引用后，和java中的引用就**几乎**一模一样了，个人感觉唯一不同的点在于，java的引用/对象名可以重新指向另一个的类实例，而Cpp的引用不可以，因此，Cpp的引用基本用于函数的传参了。
通过以上交换a、b两数的函数定义和调用过程即可以发现，Cpp的指针和引用有以下不同：
1. 引用不需要解引用即可直接获取到指向的内存空间的值。例如，上例中的第二个函数的函数体中，a直接就等于1，而不需要像第一个函数中那样先去解引用，再用解引用得到的值去“替换”别人的地址解引用出来的值
2. 引用的赋值操作也不需要取地址符来赋值，可以直接通过变量名，例如，上例中，在调用函数的时候，其实默认进行了，int &a= a，而不需要 int *a = &a
3. 引用在申明的时候就必须要有初始值，而且reference变量指向的内存地址是不能变化，不像指针那样可以很灵活的重新指向其他地址。
因此，总得来说，Cpp中的引用就是“懒人”用的指针！
# 3 和java对比
回故Cpp的指针时，突然想到，Java本是一切皆对象的，那就意味者，java一切变量名都应该是指针，但是！！由于基本数据类型的存在，破坏了一切皆引用的原则，就产生一个问题，如何用函数交换两个基础数据类型中的值？？？
```java
public class Main {
    public static void swap(Integer a, Integer b) {
		print(a);
        Integer temp = a;
        a = b;
        print(a);
        b = temp;

    }

    public static void main(String[] args) {
        Integer a=new Integer(1);
        Integer b=new Integer(2);
        System.out.println(a+"**"+b);
        swap(a,b);
        System.out.println(a+"**"+b);
    }
}
```
运行结果时，函数内部的确能够直接改变a、b引用指向的内存区域，但是，这一改变并不能改变外面的a、b的指向；但是，由于函数内还是函数外，a、b指向的内存区域是同一片区域，函数内还是函数外，我们是可以直接通过引用去修改内存区域中的值的，比如，java中的广泛运用的单例模式。
